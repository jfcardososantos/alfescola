<div>
  <div class="surface-section text-700 text-center p-7">
    <div class="text-900 font-bold text-4xl mb-3">Mural de recados</div>
  </div>

  <div class="flex flex-wrap gap-3 justify-content-center ">
    <div *ngFor="let item of recados | slice: 0:recadosExibidos " class="shadow-4 card">
      <p-card [header]="item.title" [style]="{ width: '300px' }">
        <ng-template pTemplate="header">
          <img alt="Card"
            style="height: 210px; width: 300px; object-fit: cover; display: block;"
            [src]="item.imagem" />
        </ng-template>

        <p style="min-height: 5em;">
          {{ item.resumo.length > 200 ? (item.resumo | slice:0:200) + '...' : item.resumo }}
        </p>

          <p class="flex justify-content-end font-italic" >Postado em: {{item.date | date}} </p>


        <ng-template pTemplate="footer">
          <div class="flex gap-3 mt-1">
            <p-button (onClick)="showDialog(item)" [disabled]="!item.fullText"
              icon="pi pi-plus" label="Saber mais" class="w-full"
              styleClass="w-full" />
          </div>
        </ng-template>
      </p-card>

      <!-- DiÃ¡logo -->
      <div class="card flex justify-content-center">
        <p-dialog
          header="Header"
          [(visible)]="visible"
          [modal]="true"
          [style]="{ width: '25rem' }">
          <ng-template pTemplate="header">
            <div
              class="inline-flex align-items-center justify-content-center gap-2">
              <span class="font-bold white-space-nowrap">
                <img alt="Card"
                  style="height: 100%; width: 300px; object-fit: cover; display: block;"
                  [src]="selectedItem?.imagem" />
              </span>
            </div>
          </ng-template>
          <p
            class="text-center justify-content-center text-4xl mb-5">{{selectedItem?.title}}</p>
          <p class> {{selectedItem?.fullText}}</p>

          <ng-template pTemplate="footer">
            <p-button
              label="Fechar"
              severity="danger"
              (onClick)="visible = false" />
          </ng-template>
        </p-dialog>
      </div>
    </div>


  </div>
  <div *ngIf="recados.length > recadosExibidos" class="text-center mt-3">
    <p-button  severity="warning" label="Mais recados..." (click)="showMore()" />
  </div>
</div>

  <p-divider></p-divider>
